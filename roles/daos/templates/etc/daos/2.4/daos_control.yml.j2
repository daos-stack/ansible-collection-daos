#
# {{ ansible_managed }}
#
# DAOS manager (dmg) configuration file.
#
# Location of this configuration file is determined by first checking for the
# path specified through the -o option of the dmg command line.
# Otherwise, /etc/daos/daos_control.yml is used.
#
# Section describing the DAOS manager (dmg) configuration
#
# Although not supported for now, one might want to connect to multiple
# DAOS installations from the same node in the future.
#
# Specify the associated DAOS systems.
# Name must match name specified in the daos_server.yml file on the server.
#
# NOTE: Changing the name is not supported yet, it must be daos_server
#
# default: daos_server
#name: daos_server

# Default destination port to use when connecting to hosts in the hostlist.
# default: 10001
port: {{ daos_port }}

# Hostlist, a comma separated list of addresses (hostnames or IPv4 addresses).
# default: ['localhost']
{% if daos_host_list %}
access_points:
{% for host in daos_host_list %}
  - {{ host }}
{% endfor %}
{% else %}
access_points:
  - 127.0.0.1
{% endif %}

## Transport Credentials Specifying certificates to secure communications

#transport_config:
transport_config:
  allow_insecure: {{ daos_transport_config_allow_insecure | default(false) | bool | string | lower }}
{% if not daos_transport_config_allow_insecure | bool %}
  ca_cert: {{ daos_transport_config_ca_cert }}
  cert: {{ daos_transport_config_admin_cert }}
  key: {{ daos_transport_config_admin_key }}
{% endif %}
