---
# defaults file for io500

io500_version: io500-sc23
io500_install_dir: "/opt/{{ io500_version }}"
io500_src_repo_url: https://github.com/IO500/io500.git
io500_daos_install_dir: "/usr/lib64"
io500_user: daos_admin
io500_script_dir: "/home/{{ io500_user }}"
io500_tools_dir: "/usr/local/tools"

# cmake
io500_cmake_version: "v3.27.7"
io500_cmake_installer_script: "cmake-{{ io500_cmake_version }}-linux-x86_64.sh"
io500_cmake_installer_url: "https://github.com/Kitware/CMake/releases/download/v{{ io500_cmake_version }}/{{ io500_cmake_installer_script }}"

# # mpifileutils
# io500_mfu_root_dir: /usr/local/mpifileutils
# io500_mfu_deps_dir: "{{ io500_mfu_root_dir }}/deps"
# io500_mfu_src_dir: "{{ io500_mfu_root_dir }}/src"
# io500_mfu_build_dir: "{{ io500_mfu_root_dir }}/build"
# io500_mfu_install_dir: "{{ io500_mfu_root_dir }}/install"

# libcircle
io500_libcircle_src_url: https://github.com/hpc/libcircle/releases/download/v0.3/libcircle-0.3.0.tar.gz
io500_libcircle_dir: "{{ io500_mfu_deps_dir }}/{{ io500_libcircle_src_url | basename | regex_replace('.tar.gz', '') }}"

# lwgrp
io500_lwgrp_src_url: https://github.com/llnl/lwgrp/releases/download/v1.0.2/lwgrp-1.0.2.tar.gz
io500_lwgrp_dir: "{{ io500_mfu_deps_dir }}/{{ io500_lwgrp_src_url | basename | regex_replace('.tar.gz', '') }}"

# dtcmp
io500_dtcmp_src_url: https://github.com/llnl/dtcmp/releases/download/v1.1.0/dtcmp-1.1.0.tar.gz
io500_dtcmp_dir: "{{ io500_mfu_deps_dir }}/{{ io500_dtcmp_src_url | basename | regex_replace('.tar.gz', '') }}"

# # mpifileutils
# io500_mpifileutils_repo_url: https://github.com/hpc/mpifileutils.git
# io500_mpifileutils_src_dir: "{{ io500_mfu_src_dir }}/mpifileutils"

io500_daos_pool_name: "io500_pool"
io500_daos_container_name: "io500_cont"

io500_cfg_global_datadir: "/datafiles"
io500_cfg_global_timestamp_datadir: "TRUE"
io500_cfg_global_resultdir:
io500_cfg_global_timestamp_resultdir: "TRUE"
io500_cfg_global_api: "DFS --dfs.pool={{ io500_daos_pool_name }} --dfs.cont={{ io500_daos_container_name }}"
io500_cfg_global_drop_caches: "FALSE"
io500_cfg_global_drop_caches_cmd: 'sudo -n bash -c "echo 3 > /proc/sys/vm/drop_caches"'
io500_cfg_global_io_buffers_on_gpu: "FALSE"
io500_cfg_global_verbosity: 1
io500_cfg_global_scc: "FALSE"
io500_cfg_debug_stonewall_time: 60

io500_cfg_ior_easy_api: "DFS --dfs.pool=$DAOS_POOL --dfs.cont=$DAOS_CONT --dfs.dir_oclass=RP_2G1 --dfs.oclass=EC_8P1GX"
io500_cfg_ior_easy_blockSize: "99000000m"
io500_cfg_ior_easy_filePerProc: "FALSE"
io500_cfg_ior_easy_run: "TRUE"
io500_cfg_ior_easy_transferSize: "4m"
io500_cfg_ior_easy_uniqueDir: "FALSE"
